<div class="border border-surface rounded-2xl flex">

    <!-- Left Container (Scrollable) -->
    <div class="w-4/12 xl:w-3/12 min-w-40 flex flex-col gap-6">
        <div class="flex flex-col gap-6 pt-3 pb-2 -mb-2 px-5 sticky top-0 bg-surface-0 dark:bg-surface-950 z-10">
            <div class="flex items-center justify-between gap-6 text-color">
                <div class="text-2xl font-medium lead">Chats</div>
            </div>
        </div>
        <div class="px-5">
            <p-iconField iconPosition="left">
                <p-inputIcon class="pi pi-search"> </p-inputIcon>
                <input type="text" pInputText [(ngModel)]="search" placeholder="Search" class="w-full" />
            </p-iconField>
        </div>
        <div class="w-full px-5">
            <p-selectButton [options]="options" aria-labelledby="basic" class="w-full" styleClass="w-full" />
        </div>
       

            <div class="flex-1 flex flex-col max-h-[calc(100vh-250px)] overflow-y-auto shadow-sm divide-y divide-surface-200 dark:divide-surface-800">
                <div *ngFor="let chat of chats"
                    class="flex items-center gap-2 p-4 cursor-pointer hover:bg-emphasis transition-all" [ngClass]="{
                    'bg-emphasis': chat.name === activeChat
                }">
                    <div class="relative">
                      

                        <p-avatar [image]="chat.image" [label]="!chat.image ? chat.capName : ''" [ngClass]="{
                            '!bg-primary-100 !text-primary-950': !chat.image
                        }" styleClass="text-base font-medium flex" size="large" shape="circle" />
                    </div>
                    <div class="flex-1">
                        <div class="flex items-start gap-1 justify-between">
                            <div class="text-color font-medium leading-6">{{ chat.name }}</div>
                            <div class="text-sm text-muted-color leading-5">{{ chat.time }}</div>
                        </div>
                        <div class="flex items-center gap-5 justify-between mt-1">
                            <div class="text-muted-color text-sm leading-5 line-clamp-1">
                                {{ chat.lastMessage }}
                            </div>
                         
                        </div>
                    </div>
                </div>
            </div>
     

    </div>

    <!-- Right Container (Map Section, Fixed) -->
    <div class="w-full border-x border-surface p-3">
        
        <div class="h-[90vh] relative">
            <!-- Ensure Leaflet container inherits full height/width -->
            <div
                class="absolute inset-0"
                leaflet
                [leafletOptions]="mapOptions"
                (leafletMapReady)="onMapReady($event)">
            </div>
        </div>
    </div>

</div>